"use strict";(self.webpackChunkomega_cli=self.webpackChunkomega_cli||[]).push([[125],{8125:(P,g,i)=>{i.r(g),i.d(g,{SettingsModule:()=>b,SettingsRoutingModule:()=>f,StoresComponent:()=>v,StoresResolverService:()=>S,StoresViewModel:()=>m});var d=i(1743);class m{}new d.Yd("StoresInteractor");class y{constructor(r,o,s){this.presenter=new m,this._route=r,this._router=o,this._storageService=s}loadData(){}subscribeRouteData(){this._route.data.subscribe(r=>{this.presenter.stores=r.data,this.presenter.selectedStore=this.presenter.stores[0],1==this.presenter.stores.length&&this.continue()})}continue(){var r,o,s;const n=null!==(r=this._storageService.settings)&&void 0!==r?r:{employee:null,store:null};n.store=this.presenter.selectedStore,n.employee=this._storageService.user.employees.find(T=>T.company_id==this.presenter.selectedStore.id),this._storageService.settings=n;var c=(null===(s=null===(o=this._storageService.settings)||void 0===o?void 0:o.employee)||void 0===s?void 0:s.defaultPage)||"/";this._router.navigate([c])}}var e=i(5e3),l=i(4404),a=i(4146),p=i(5055),u=i(2382),h=i(845);const M=function(){return["/auth/logout"]};let v=(()=>{class t{constructor(o,s,n){this.route=o,this.router=s,this.storageService=n}ngOnInit(){this.interactor=new y(this.route,this.router,this.storageService),this.interactor.loadData(),this.interactor.subscribeRouteData(),this.viewModel=this.interactor.presenter}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(l.gz),e.Y36(l.F0),e.Y36(a.Pu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-stores"]],decls:15,vars:5,consts:[[1,"login-body"],["id","login-wrapper"],["src","assets/layout/images/login-logo.png","alt","omega-layout"],["id","login-container"],[1,"title"],[1,"p-grid","p-fluid"],[1,"p-col-12"],["optionLabel","name",3,"options","ngModel","filter","ngModelChange"],[1,"p-col-6"],["type","button","label","Cancel","icon","pi pi-angle-left",3,"routerLink"],["type","button","label","Continue","icon","pi pi-angle-right","iconPos","right",3,"click"],[1,"login-footer"]],template:function(o,s){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"div",3),e.TgZ(4,"span",4),e._uU(5,"Select a store"),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"p-listbox",7),e.NdJ("ngModelChange",function(c){return s.viewModel.selectedStore=c}),e.qZA(),e.qZA(),e.TgZ(9,"div",8),e._UZ(10,"p-button",9),e.qZA(),e.TgZ(11,"div",8),e.TgZ(12,"p-button",10),e.NdJ("click",function(){return s.interactor.continue()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",11),e._uU(14,"PrimeNG Omega"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(8),e.Q6J("options",s.viewModel.stores)("ngModel",s.viewModel.selectedStore)("filter",!0),e.xp6(2),e.Q6J("routerLink",e.DdM(4,M)))},directives:[p.Ri,u.JJ,u.On,h.zx,l.rH],styles:["[_nghost-%COMP%]     .p-multiselect{min-width:15rem}[_nghost-%COMP%]     .multiselect-custom-virtual-scroll .p-multiselect{min-width:20rem}[_nghost-%COMP%]     .multiselect-custom .p-multiselect-label{padding-top:.25rem;padding-bottom:.25rem}[_nghost-%COMP%]     .multiselect-custom .country-item.country-item-value{padding:.25rem .5rem;border-radius:3px;display:inline-flex;margin-right:.5rem;background-color:var(--primary-color);color:var(--primary-color-text)}[_nghost-%COMP%]     .multiselect-custom .country-item.country-item-value img.flag{width:17px}[_nghost-%COMP%]     .multiselect-custom .country-item{display:flex;align-items:center}[_nghost-%COMP%]     .multiselect-custom .country-item img.flag{width:18px;margin-right:.5rem}[_nghost-%COMP%]     .multiselect-custom .country-placeholder{padding:.25rem}[_nghost-%COMP%]     .p-colorpicker{width:2.5em}"]}),t})();var C=i(4004);new d.Yd("StoresResolverService");let S=(()=>{class t{constructor(o,s){this.userService=o,this.storageService=s}resolve(o,s){return this.userService.getUser().pipe((0,C.U)(n=>(this.storageService.user=n.user,this.storageService.user.employees.map(c=>c.company))))}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(a.KD),e.LFG(a.Pu))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Z=[{path:"",pathMatch:"full",redirectTo:"stores"},{path:"stores",component:v,resolve:{data:S}}];let f=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(Z)],l.Bz]}),t})(),b=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[h.hJ,p.ON,u.u5,f]]}),t})()}}]);